/* ==========================================================================
   RoadVision AI Pro — Animations v2
   GSAP ScrollTrigger-powered · Apple-grade motion design
   ========================================================================== */

/* ---------- Cinematic Scroll System ---------- */
.cine-active {
    box-shadow: 0 8px 60px rgba(77,166,255,0.10), 0 0 1px rgba(77,166,255,0.25) !important;
    transition: box-shadow 0.6s ease;
}

.cine-velocity-glow {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background: radial-gradient(ellipse 80% 40% at 50% 0%, rgba(77,166,255,0.06) 0%, transparent 70%);
    opacity: 0;
    will-change: opacity;
}

/* GPU-accelerated perspective parents (set by cinematicScroll.js) */
.glass-card,
.problem-card,
.enterprise-card,
.analytics-card-glass,
.stat-card-glass,
.stat-card-3d {
    transform-style: preserve-3d;
    backface-visibility: hidden;
}

/* ---------- Scroll-Reveal Base ---------- */
[data-animate]{opacity:0;transform:translateY(40px);will-change:opacity,transform;}
[data-animate="fade-up"]{transform:translateY(40px);}
[data-animate="fade-down"]{transform:translateY(-40px);}
[data-animate="fade-left"]{transform:translateX(40px);}
[data-animate="fade-right"]{transform:translateX(-40px);}
[data-animate="scale"]{transform:scale(.92);}
[data-animate="fade"]{transform:none;}

[data-animate].animated{
    opacity:1;transform:none;
    transition:opacity .8s cubic-bezier(.16,1,.3,1),transform .8s cubic-bezier(.16,1,.3,1);
}

/* Stagger delays */
[data-delay="0.1"].animated{transition-delay:.1s;}
[data-delay="0.2"].animated{transition-delay:.2s;}
[data-delay="0.3"].animated{transition-delay:.3s;}
[data-delay="0.4"].animated{transition-delay:.4s;}
[data-delay="0.5"].animated{transition-delay:.5s;}
[data-delay="0.6"].animated{transition-delay:.6s;}
[data-delay="0.7"].animated{transition-delay:.7s;}

/* ---------- Micro-interaction: Ripple ---------- */
.btn-ripple{position:relative;overflow:hidden;}
.btn-ripple::after{
    content:'';position:absolute;width:100%;height:100%;top:0;left:0;
    pointer-events:none;
    background-image:radial-gradient(circle,rgba(255,255,255,.2) 10%,transparent 10.01%);
    background-repeat:no-repeat;background-position:50%;
    transform:scale(10);opacity:0;
    transition:transform .5s,opacity .5s;
}
.btn-ripple:active::after{transform:scale(0);opacity:.3;transition:0s;}

/* ---------- Card Tilt ---------- */
[data-tilt]{transform-style:preserve-3d;transform:perspective(1000px);}

/* ---------- Subtle Glow Classes ---------- */
.glow-blue{box-shadow:0 0 16px var(--glow-blue),0 0 32px var(--glow-blue);}
.glow-cyan{box-shadow:0 0 16px var(--glow-cyan),0 0 32px var(--glow-cyan);}
.glow-green{box-shadow:0 0 16px var(--glow-green),0 0 32px var(--glow-green);}
.glow-red{box-shadow:0 0 16px var(--glow-red),0 0 32px var(--glow-red);}

/* ---------- Pulse ---------- */
@keyframes pulse-soft{
    0%,100%{opacity:1;transform:scale(1);}
    50%{opacity:.85;transform:scale(1.015);}
}
@keyframes pulse-glow{
    0%,100%{box-shadow:0 0 4px currentColor;}
    50%{box-shadow:0 0 14px currentColor,0 0 28px currentColor;}
}
.pulse-animation{animation:pulse-soft 2.5s ease-in-out infinite;}

/* ---------- Shake ---------- */
@keyframes shake{
    0%,100%{transform:translateX(0);}
    10%,30%,50%,70%,90%{transform:translateX(-4px);}
    20%,40%,60%,80%{transform:translateX(4px);}
}
.shake{animation:shake .45s ease-in-out;}

/* ---------- Spinner ---------- */
.spinner{
    width:36px;height:36px;
    border:3px solid rgba(255,255,255,.08);
    border-top-color:var(--accent-blue);border-radius:50%;
    animation:spin 1s linear infinite;
}

/* ---------- Scan Line ---------- */
@keyframes scan-line-move{
    0%{transform:translateY(-100%);opacity:0;}
    50%{opacity:1;}
    100%{transform:translateY(100%);opacity:0;}
}
.scan-line{
    position:absolute;left:0;right:0;height:2px;
    background:linear-gradient(90deg,transparent,var(--accent-blue),transparent);
    animation:scan-line-move 2s ease-in-out infinite;
}

/* ---------- Radar ---------- */
@keyframes radar-pulse-anim{
    0%{transform:scale(0);opacity:1;}
    100%{transform:scale(2);opacity:0;}
}
.radar-pulse{
    position:absolute;inset:20%;
    border:1.5px solid var(--accent-blue);border-radius:50%;
    animation:radar-pulse-anim 2s ease-out infinite;
}

/* ---------- Grid Move ---------- */
@keyframes grid-move{0%{background-position:0 0;}100%{background-position:50px 50px;}}
.scan-grid{
    position:absolute;inset:0;
    background-image:
        linear-gradient(rgba(77,166,255,.05) 1px,transparent 1px),
        linear-gradient(90deg,rgba(77,166,255,.05) 1px,transparent 1px);
    background-size:50px 50px;animation:grid-move 3s linear infinite;pointer-events:none;
}

/* ---------- Float ---------- */
@keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-8px);}}
.floating{animation:float 3.5s ease-in-out infinite;}

/* ---------- Gradient Border ---------- */
@keyframes gradient-rotate{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
.animated-border{
    position:relative;
    background:linear-gradient(90deg,var(--accent-blue),var(--accent-cyan),var(--accent-green),var(--accent-blue));
    background-size:300% 300%;animation:gradient-rotate 4s ease infinite;
    padding:2px;border-radius:var(--radius-lg);
}
.animated-border-inner{
    background:var(--bg-secondary);border-radius:calc(var(--radius-lg) - 2px);
    padding:var(--space-lg);
}

/* ---------- Typewriter ---------- */
@keyframes typewriter{from{width:0;}to{width:100%;}}
@keyframes blink{50%{border-color:transparent;}}
.typewriter{
    overflow:hidden;white-space:nowrap;
    border-right:2px solid var(--accent-blue);
    animation:typewriter 2s steps(40) forwards,blink .75s step-end infinite;
}

/* ---------- Bounce In ---------- */
@keyframes bounce-in{
    0%{opacity:0;transform:scale(.3);}
    50%{opacity:1;transform:scale(1.04);}
    70%{transform:scale(.96);}
    100%{opacity:1;transform:scale(1);}
}
.bounce-in{animation:bounce-in .55s ease-out forwards;}

/* ---------- Slide Variants ---------- */
@keyframes slide-in-left{from{opacity:0;transform:translateX(-80px);}to{opacity:1;transform:translateX(0);}}
@keyframes slide-in-right{from{opacity:0;transform:translateX(80px);}to{opacity:1;transform:translateX(0);}}
@keyframes slide-in-up{from{opacity:0;transform:translateY(40px);}to{opacity:1;transform:translateY(0);}}
.slide-in-left{animation:slide-in-left .6s cubic-bezier(.16,1,.3,1) forwards;}
.slide-in-right{animation:slide-in-right .6s cubic-bezier(.16,1,.3,1) forwards;}
.slide-in-up{animation:slide-in-up .6s cubic-bezier(.16,1,.3,1) forwards;}

/* ---------- Hover Lift ---------- */
.hover-lift{transition:transform .35s var(--ease-out),box-shadow .35s var(--ease-out);}
.hover-lift:hover{transform:translateY(-6px);box-shadow:0 16px 40px rgba(0,0,0,.25);}

/* ---------- Hover Glow ---------- */
.hover-glow{transition:box-shadow .35s var(--ease-out);}
.hover-glow:hover{box-shadow:0 0 24px var(--glow-blue);}

/* ---------- Progress Fill ---------- */
@keyframes progress-fill{from{width:0;}}
.progress-animated{animation:progress-fill 1s cubic-bezier(.16,1,.3,1) forwards;}

/* ---------- Counter ---------- */
.counter-animate{font-variant-numeric:tabular-nums;}

/* ---------- Section Reveal ---------- */
.section-reveal{
    opacity:0;transform:translateY(40px);
    transition:all .8s cubic-bezier(.16,1,.3,1);
}
.section-reveal.visible{opacity:1;transform:translateY(0);}

/* ---------- Parallax ---------- */
.parallax-layer{will-change:transform;}

/* ---------- 3D Card Flip ---------- */
.card-flip{perspective:1000px;}
.card-flip-inner{position:relative;width:100%;height:100%;transition:transform .6s;transform-style:preserve-3d;}
.card-flip:hover .card-flip-inner{transform:rotateY(180deg);}
.card-flip-front,.card-flip-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;}
.card-flip-back{transform:rotateY(180deg);}

/* ---------- Loading Dots ---------- */
@keyframes loading-dots{
    0%,80%,100%{transform:scale(0);opacity:0;}
    40%{transform:scale(1);opacity:1;}
}
.loading-dots{display:flex;gap:4px;}
.loading-dots span{
    width:7px;height:7px;background:var(--accent-blue);
    border-radius:50%;animation:loading-dots 1.4s ease-in-out infinite both;
}
.loading-dots span:nth-child(1){animation-delay:-.32s;}
.loading-dots span:nth-child(2){animation-delay:-.16s;}

/* ---------- Checkmark ---------- */
@keyframes checkmark{0%{stroke-dashoffset:100;}100%{stroke-dashoffset:0;}}
.checkmark{stroke-dasharray:100;stroke-dashoffset:100;animation:checkmark .5s ease-in-out forwards;}

/* ---------- Metric Counter Flip ---------- */
@keyframes count-up{
    from{opacity:0;transform:translateY(12px);}
    to{opacity:1;transform:translateY(0);}
}
.metric-count-up{animation:count-up .6s var(--ease-out) forwards;}
